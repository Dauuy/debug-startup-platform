{% extends 'accounts/base.html' %}

{% block title %}{{ article.title }}{% endblock %}

{% block head_extra %}
  <style>
    .news-detail {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    .news-detail-image {
      width: 100%;
      height: 400px;
      object-fit: cover;
      border-radius: 12px;
      margin-bottom: 20px;
    }
    .news-detail-title {
      font-family: 'Circe', sans-serif;
      font-weight: 700;
      font-size: 32px;
      margin: 0 0 10px 0;
    }
    .news-detail-meta {
      font-family: 'Circe', sans-serif;
      font-size: 14px;
      color: #A9A9A9;
      margin-bottom: 10px;
    }
    .news-detail-tags {
      font-family: 'Circe', sans-serif;
      font-size: 14px;
      color: #7B61FF;
      margin-bottom: 20px;
    }
    .news-detail-content {
      font-family: 'Circe', sans-serif;
      font-size: 16px;
      line-height: 1.6;
      margin-bottom: 20px;
    }
    .news-stats {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
    }
    .like-button {
      background: none;
      border: none;
      font-size: 16px;
      color: #7B61FF;
      cursor: pointer;
    }
    .like-button.liked {
      color: #FF6161;
    }
  </style>
{% endblock %}

{% block content %}
<div class="news-detail">
  {% if article.image_url %}
    <img src="{{ article.image_url }}" alt="{{ article.title }}" class="news-detail-image">
  {% endif %}
  <h1 class="news-detail-title">{{ article.title }}</h1>
  <div class="news-detail-meta">
    {{ article.published_at|date:"d.m.Y H:i" }} | Автор: {{ article.author.email|default:"Неизвестно" }}
  </div>
  <div class="news-detail-tags">
    Теги: {{ article.tags|default:"Нет тегов" }}
  </div>
  <div class="news-stats">
    <span>Просмотры: {{ views_count }}</span>
    <form method="post">
      {% csrf_token %}
      <button type="submit" name="like" class="like-button {% if user_liked %}liked{% endif %}">
        <i class="fas fa-heart"></i> {{ likes_count }}
      </button>
    </form>
  </div>
  <div class="news-detail-content">
    {{ article.content|linebreaks }}
  </div>
</div>
{% endblock %}